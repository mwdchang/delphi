

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contributing &mdash; delphi  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C++ API" href="cpp_api/library_root.html" />
    <link rel="prev" title="Grounded Function Network (GrFN) JSON Specification" href="grfn_spec.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> delphi
          

          
            
            <img src="_static/delphi_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">The Delphi model</a></li>
<li class="toctree-l1"><a class="reference internal" href="AnalysisGraph_API.html">AnalysisGraph API</a></li>
<li class="toctree-l1"><a class="reference internal" href="GrFN_API.html">GroundedFunctionNetwork API</a></li>
<li class="toctree-l1"><a class="reference internal" href="grfn_spec.html">Grounded Function Network (GrFN) JSON Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="grfn_spec.html#change-log">Change Log</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#suggested-git-workflow">Suggested Git Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-tests-locally">Running tests locally</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpp_api/library_root.html">C++ API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">delphi</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Contributing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/CONTRIBUTING.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="suggested-git-workflow">
<h2>Suggested Git Workflow<a class="headerlink" href="#suggested-git-workflow" title="Permalink to this headline">¶</a></h2>
<p>The following git workflow is suggested for contributors. To implement a new
feature, do the following:</p>
<ul>
<li><p>Assuming you are on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, check out a new feature branch. If
the name of the feature is <code class="docutils literal notranslate"><span class="pre">new_feature</span></code>, you would do <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">new_feature</span></code>.</p></li>
<li><p>Implement the feature.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to see what files have changed. Optionally, run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> to
see the details of the changes to refresh your memory (and catch errant print
statements!).</p></li>
<li><p>Add the new/changed files by doing</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">filename1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">filename2</span><span class="o">&gt;</span> <span class="o">...</span> <span class="o">&lt;</span><span class="n">filenameN</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Remember:</p>
<ul class="simple">
<li><p>Only add human-generated files. Examples include:</p>
<ul>
<li><p>Source code:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.py</span></code> files</p></li>
<li><p>Jupyter notebooks with their outputs cleared.</p></li>
<li><p>Documentation in the form of <code class="docutils literal notranslate"><span class="pre">.md</span></code> and <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>In the case of testing code, this restriction can be relaxed a bit - for
example, if you want to test the JSON output of a function, you can put
the corresponding JSON file in the <code class="docutils literal notranslate"><span class="pre">tests/data</span></code> directory.</p></li>
<li><p>In general, do not add non-text files, as <code class="docutils literal notranslate"><span class="pre">git</span></code> is designed to version
control source code (i.e. text files). There are some exceptions, however:</p>
<ul>
<li><p>Images that go into the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file in the root of the repository -
they need to be checked in to render properly on Github.com.</p></li>
<li><p>The OpenFortranParser program, that is required for analyzing Fortran
programs, requires four JAR files (in <code class="docutils literal notranslate"><span class="pre">delphi/translators/for2py/bin</span></code>) -
these are checked into the repository for easier deployment, and because
we do not expect them to change in the future.</p></li>
</ul>
</li>
<li><p><strong>Do not run</strong> <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> Instead, add the changed files individually -
this will encourage you to make your commits less monolithic, which makes
them easier to merge, and to revert if necessary. Also, this prevents the
accidental addition of automatically-generated files to version control,
which bloats the repository.</p></li>
</ul>
</li>
<li><p>Commit the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Description of features/changes that were implemented.&quot;</span>
</pre></div>
</div>
</li>
<li><p>Push the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</li>
<li><p>Wait for an email from <a class="reference external" href="https://travis-ci.org/ml4ai/delphi">Travis CI</a>, to let
you know whether the automated tests have passed or failed (if you haven’t
signed up for email alerts from Travis, you can simply view the live test
execution log on the Travis website itself.) The tests take about 6 minutes as
of the time of writing this (January 4, 2019), but could potentially take
longer as Delphi undergoes further development.</p></li>
<li><p>If the tests pass,
<a class="reference external" href="https://help.github.com/articles/creating-a-pull-request/">open a pull request (PR)</a>
by going to the <a class="reference external" href="https://github.com/ml4ai/delphi">repo website</a>.</p></li>
<li><p>One of the repo maintainers will then review your PR, and merge it into the
master branch.</p></li>
<li><p>Once the feature branch is merged, do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">pull</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">new_feature</span>
</pre></div>
</div>
</li>
<li><p><strong>Tip 1:</strong>: In general, smaller pull requests are better, and easier to merge.</p></li>
<li><p><strong>Tip 2:</strong>: Whenever you get an email from Github telling you that a branch
has been merged into the master branch, but you are in the middle of
implementing your feature branch, make sure to pull the changes from master
into your branch and resolve any merge conflicts (another reason to not
delay PRs!). Assuming you are on the <code class="docutils literal notranslate"><span class="pre">new_feature</span></code> branch, you would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
</div>
<p>For those more proficient in the usage of <code class="docutils literal notranslate"><span class="pre">git</span></code>- feel free to fetch changes
from master and rebase your feature branch on top of the master branch.</p>
</li>
<li><p>Committing changes directly to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch is <em>highly</em> discouraged.
The only exception to this rule is documentation updates (updating READMEs,
etc.) And even then, major documentation updates should be done via a PR.</p></li>
</ul>
</div>
<div class="section" id="running-tests-locally">
<h2>Running tests locally<a class="headerlink" href="#running-tests-locally" title="Permalink to this headline">¶</a></h2>
<p>To run the complete test suite, invoke the following command from the Delphi
repo root directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">test</span>
</pre></div>
</div>
<p>To run a particular test module, e.g. <code class="docutils literal notranslate"><span class="pre">test_program_analysis.py</span></code>, invoke the
following command instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_program_analysis</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>To run a particular testing function within a test module, e.g. the
<code class="docutils literal notranslate"><span class="pre">test_petpt_grfn_generation</span></code> test function in <code class="docutils literal notranslate"><span class="pre">test_program_analysis.py</span></code>,
invoke the following instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_program_analysis</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">k</span> <span class="n">test_petpt_grfn_generation</span>
</pre></div>
</div>
<p>If you would like the output of print statements (either in the library code or
the testing code) to be displayed instead of suppressed, pass the <code class="docutils literal notranslate"><span class="pre">-s</span></code> flag to
the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> invocation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">s</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_program_analysis</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cpp_api/library_root.html" class="btn btn-neutral float-right" title="C++ API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="grfn_spec.html" class="btn btn-neutral float-left" title="Grounded Function Network (GrFN) JSON Specification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Adarsh

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>